{% comment %}
    BLOG POSTS SECTION
    Displays a section header and a grid of blog posts, with customizable settings.
    Layout: Light background, dark text, 3-column grid on desktop, stacked on mobile.
{% endcomment %}

<style>
    /* Load Inter font */
    
    /* Global Section Styles based on Scheme 1: Light Background, Dark Text */
    .section-{{ section.id }} {
        background-color: #f7f7f7; /* Light grey background */
        color: #0a0a0a; /* Dark text for contrast */
        padding: 60px 20px; /* Vertical padding */
        border-bottom: 1px solid #e0e0e0; /* Separate section with border */
        font-family: 'sans-serif';
    }

    /* Section Header Alignment (Centered) */
    .section-header {
        text-align: center;
        /* margin-bottom: 40px; */
    }

    .section-subheading {
        font-size: 15px;
        letter-spacing: 0.15em;
        /* text-transform: uppercase; */
        font-weight: 500;
        color: #6a6a6a; /* Subtler gray for subheading */
        margin-bottom: 8px;
    }

    .section-heading {
        font-size: 20px;
        font-weight: 400;
        padding-bottom: 10px;
        font family: 'sans-serif';
    }

    /* Posts Grid Container (Responsive) */
    .posts-grid {
        display: flex;
        flex-direction: column;
        gap: 30px;
        max-width: 1200px;
        margin: 0 auto;
    }

    @media (min-width: 768px) {
        .posts-grid {
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: center;
        }
    }

    /* Individual Post Card */
    .blog-post-card {
        flex: 1 1 100%; /* Default: Stacked on mobile */
        display: flex;
        flex-direction: column;
        text-align: center;
    }

    @media (min-width: 768px) {
        .blog-post-card {
            flex-basis: calc(33.333% - 20px); /* 3 columns with gap */
            max-width: calc(33.333% - 20px);
        }
    }
    
    /* Post Image/Placeholder */
    .post-image-placeholder {
        background-color: #0a0a0a; /* Dark block background */
        height: 300px; /* Fixed height for visual consistency */
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 15px;
    }

    .post-image-placeholder svg {
        width: 60px;
        height: 60px;
        color: #f7f7f7; /* Light icon */
    }

    /* Post Meta and Title */
    .post-meta {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: #888;
        margin-bottom: 5px;
    }
    
    .post-title {
        font-size: 1rem;
        font-weight: 600;
        text-transform: uppercase;
        margin-bottom: 10px;
    }
    
    .post-excerpt {
        font-size: 0.9rem;
        color: #6a6a6a;
        margin-bottom: 10px;
    }
    
    .read-more-link {
        font-size: 0.85rem;
        font-weight: 600;
        text-transform: uppercase;
        color: #0a0a0a;
        text-decoration: none;
        padding-bottom: 2px;
        border-bottom: 1px solid transparent;
        transition: border-bottom 0.2s;
    }
    .read-more-link:hover {
        border-bottom: 1px solid #0a0a0a;
    }

    /* Button Container */
    .button-container {
        text-align: center;
        margin-top: 50px;
    }
    
    /* Discover All Button (Filled Style from reference image) */
    .discover-button {
        display: inline-block;
        background-color: black;
        color: #fff;
        padding: 12px 28px;
        text-transform: uppercase;
        font-size: 0.85rem;
        font-weight: 500;
        letter-spacing: 1px;
        text-decoration: none;
        border-radius: 4px;
        transition: opacity 0.2s;
        border: 1px solid #0a0a0a;
    }
    .discover-button:hover {
        background-color: transparent;
         color: black;
    }
</style>

<section class="section-{{ section.id }}">
    
    {% comment %} Section Header {% endcomment %}
    <div class="section-header">
        <p class="section-subheading">
            {{ section.settings.subheading | escape }}
        </p>
        <h2 class="section-heading">
            {{ section.settings.heading | escape }}
        </h2>
    </div>

    {% comment %} Post Grid {% endcomment %}
    <div class="posts-grid">
        {% comment %} 
            Simulate looping through blog posts. 
            For actual Liquid, replace this with a real `for` loop over `blog.articles`.
        {% endcomment %}
        
        {% assign posts_to_show = section.settings.posts_to_show | at_most: 3 %}

        {% for i in (1..posts_to_show) %}
            <div class="blog-post-card">
                
                {% comment %} Image Placeholder (since we can't load dynamic images) {% endcomment %}
                <a href="#">
                    <div class="post-image-placeholder">
                         <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-12 10a2 2 0 01-2-2v-4a2 2 0 01-2-2V6a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 9h.01"></path>
                        </svg>
                    </div>
                </a>

                {% if section.settings.show_category %}
                    <p class="post-meta">
                        BLOG POST
                    </p>
                {% endif %}
                
                {% comment %} Post Title / Blog Name {% endcomment %}
                <h3 class="post-title">
                    <a href="#" style="color: inherit; text-decoration: none;">BLOG POST TITLE {{ i }}</a>
                </h3>

                {% if section.settings.show_date %}
                    <p class="post-meta" style="margin-bottom: 5px;">
                        {% comment %} Mock date or actual Liquid date: {{ article.published_at | date: "%b %d, %Y" }} {% endcomment %}
                        JAN 01, 2024
                    </p>
                {% endif %}
                
                {% if section.settings.show_excerpt %}
                    <p class="post-excerpt">
                        Here is a short excerpt for blog post {{ i }} that summarizes the content of the article.
                    </p>
                {% endif %}
                
                {% if section.settings.show_read_more %}
                    <a href="#" class="read-more-link">
                        Read more
                    </a>
                {% endif %}

            </div>
        {% endfor %}
    </div>

    {% comment %} Discover All Stories Button {% endcomment %}
    {% if section.settings.button_text != blank %}
        <div class="button-container">
            <a 
                href="{{ section.settings.button_link | default: '/blogs/news' }}" 
                class="discover-button"
            >
                {{ section.settings.button_text | escape }}
            </a>
        </div>
    {% endif %}

</section>

{% schema %}
{
    "name": "Blog Posts Grid",
    "tag": "section",
    "class": "section-blog-posts",
    "settings": [
        {
            "type": "header",
            "content": "Section Header"
        },
        {
            "type": "text",
            "id": "subheading",
            "label": "Subheading",
            "default": "NEWS"
        },
        {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "FROM THE BLOG"
        },
        {
            "type": "range",
            "id": "posts_to_show",
            "min": 1,
            "max": 5,
            "step": 1,
            "label": "Posts to show",
            "default": 3
        },
        {
            "type": "blog",
            "id": "blog",
            "label": "Blog" 
        },
        {
            "type": "header",
            "content": "Post Content"
        },
        {
            "type": "checkbox",
            "id": "show_category",
            "label": "Show category / Blog name",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "show_date",
            "label": "Show date",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "show_excerpt",
            "label": "Show excerpt",
            "default": false
        },
        {
            "type": "checkbox",
            "id": "show_read_more",
            "label": "Show read more link",
            "default": false
        },
        {
            "type": "header",
            "content": "Button"
        },
        {
            "type": "text",
            "id": "button_text",
            "label": "Button text",
            "default": "DISCOVER ALL OUR STORIES"
        },
        {
            "type": "url",
            "id": "button_link",
            "label": "Button link" 
        }
    ],
    "presets": [
        {
            "name": "Blog Posts Grid",
            "category": "Blog"
        }
    ]
}
{% endschema %}